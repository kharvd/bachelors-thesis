\def\profile#1{\gdef\@profile{#1}}
\def\apdate#1{\gdef\@apdate{#1}}
\def\aptitle#1{\gdef\@aptitle{#1}}
\def\satitle#1{\gdef\@satitle{#1}}

\renewcommand\diplomafield[1]{%
  \makebox[\fieldhshift][l]{\hrulefill\ \titlepagefont #1}
}

\renewcommand\@approved{%
Допущена к защите в ГЭК \hspace{1cm} \@apdate%
}

\if@titlepage\renewcommand\maketitle[1][]{
\ifundeflength\firstskip{1.5cm}
\ifundeflength\secondskip{1em}
\ifundeflength\thirdskip{2cm}
\ifundeflength\namesskip{1cm}

\setlength\fieldhshift{12cm}

\def\titlepagefont{\normalfont\small\setstretch{1.0}}
\def\topicfont{\titlepagefont\large}

\thispagestyle{empty}
\enlargethispage{1cm}
\vspace*{-1.5cm}

\begin{center}%
  {\titlepagefont\@institution}
\end{center}

\vskip\firstskip

\begin{center}%
  {\topicfont\@topic\par}
  \vskip\secondskip%
  {\titlepagefont\@title}\\
  {\titlepagefont Направление\ \@coursenum~\ \@course}\\
  {\titlepagefont Профиль\ \@profile}
\end{center}

\vskip\thirdskip%

\begin{tabbing}
  \titlepagefont\@approved\\[\namesskip]
  \titlepagefont \pbox{\textwidth}{Зав. кафедрой\\\@aptitle} \quad \=\diplomafield{\@apname}\\[\namesskip]
  \titlepagefont Обучающийся\>\diplomafield{\@author}\\[\namesskip]
  \titlepagefont \pbox{\textwidth}{Научный руководитель\\\@satitle} \quad \>\diplomafield{\@sa}
\end{tabbing}

\vfill

\begin{center}
  {\titlepagefont\@city\quad\@date}
\end{center}
\normalfont\clearpage
}\fi
